<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ì„¤ë¬¸ ë§ˆê° ì•ˆë‚´</title>
  <meta name="robots" content="noindex" />
  <style>
    :root { --border:#e5e7eb; --muted:#6b7280; }
    * { box-sizing: border-box; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", sans-serif; margin: 0; background:#fafafa; }
    .wrap { max-width: 800px; margin: 40px auto; padding: 0 20px; }
    .card { background:#fff; border:1px solid var(--border); border-radius:14px; padding:28px; box-shadow: 0 1px 2px rgba(0,0,0,.04);}
    h1 { margin:0 0 10px; font-size: 22px; }
    p  { margin:6px 0; color: var(--muted); }

    /* ===== ë§ˆê° ì•ˆë‚´ ëª¨ë‹¬ ===== */
    .closed-overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);backdrop-filter:blur(2px);z-index:1000}
    .closed-modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:1001;padding:20px}
    .closed-card{
      max-width:640px;width:100%;background:#111827;border:1px solid #2b3647;border-radius:16px;
      padding:28px;color:#e5e7eb;box-shadow:0 10px 30px rgba(0,0,0,.35)
    }
    .closed-title{margin:0 0 8px;font-size:20px;font-weight:800}
    .closed-desc{margin:0;line-height:1.75}
    .hidden{display:none !important;}

    /* (ì„ íƒ) í¼ ë ˆì´ì•„ì›ƒ ì˜ˆì‹œ - ê¸°ì¡´ í¼ì´ ìˆë”ë¼ë„ ë¬´ì‹œë¨ */
    .form-grid{display:grid;grid-template-columns:1fr;gap:12px;margin-top:12px}
    label{font-weight:600;color:#111827}
    input, select, textarea{width:100%;border:1px solid var(--border);border-radius:10px;padding:10px 12px;font-size:15px;background:#fff}
    .actions{margin-top:16px;display:flex;gap:10px}
    button{padding:12px 16px;border-radius:10px;border:0;font-size:16px;cursor:pointer;background:#111827;color:#fff}
  </style>
</head>
<body>
  <main class="wrap">
    <div class="card">
      <h1>ì„¤ë¬¸</h1>
      <p>ì„¤ë¬¸ ë¬¸í•­ì€ ë§ˆê° ì‹œ ë¹„í™œì„±í™”ë©ë‹ˆë‹¤.</p>

      <!-- (ì˜ˆì‹œ) ê¸°ì¡´ í¼ ì˜ì—­ - ì‹¤ì œ ì‚¬ìš© ì¤‘ì¸ í¼ì´ ìˆì–´ë„ ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ê°€ ì „ë¶€ ì°¨ë‹¨í•©ë‹ˆë‹¤ -->
      <form id="surveyForm" onsubmit="return submitToSheet(event)">
        <div class="form-grid">
          <div>
            <label for="q1">ë¬¸í•­ 1</label>
            <input id="q1" name="q1" type="text" placeholder="ììœ ì‘ë‹µ" />
          </div>
          <div>
            <label for="q2">ë¬¸í•­ 2</label>
            <select id="q2" name="q2">
              <option value="">ì„ íƒ</option>
              <option>ì˜ˆ</option>
              <option>ì•„ë‹ˆì˜¤</option>
            </select>
          </div>
          <div>
            <label for="q3">ë¬¸í•­ 3</label>
            <textarea id="q3" name="q3" rows="4" placeholder="ì˜ê²¬ì„ ë‚¨ê²¨ì£¼ì„¸ìš”"></textarea>
          </div>
        </div>
        <div class="actions">
          <button id="backBtn" type="button">ì´ì „</button>
          <button id="nextBtn" type="button">ë‹¤ìŒ</button>
          <button id="submitBtn" type="submit">ì œì¶œ</button>
        </div>
      </form>
    </div>
  </main>

  <!-- ===== ë§ˆê° ì•ˆë‚´ ëª¨ë‹¬ ===== -->
  <div id="closedOverlay" class="closed-overlay hidden" aria-hidden="true"></div>
  <div id="closedModal" class="closed-modal hidden" role="dialog" aria-modal="true" aria-labelledby="closedTitle" aria-describedby="closedDesc">
    <div class="closed-card">
      <h2 id="closedTitle" class="closed-title">ì„¤ë¬¸ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤</h2>
      <p id="closedDesc" class="closed-desc">
        ì„¤ë¬¸ì— ê´€ì‹¬ì„ ë³´ì—¬ì£¼ì‹  ì„ ìƒë‹˜ë“¤ê»˜ ê¹Šì€ ê°ì‚¬ì˜ ë§ˆìŒì„ ì „í•©ë‹ˆë‹¤.<br/>
        ë°°ëª…ê³  ì¡°ê²½ì²  ë“œë¦¼
      </p>
    </div>
  </div>

  <script>
    // ===== ğŸ”’ ì„¤ë¬¸ ë§ˆê° ìŠ¤ìœ„ì¹˜: ë§ˆê° ì‹œ trueë¡œ ì„¤ì • =====
    const SURVEY_CLOSED = true;

    // ===== ì‹¤ì œ ì œì¶œ í•¨ìˆ˜(ì˜ˆì‹œ). ë§ˆê° ì‹œ ì•„ë˜ì—ì„œ ë®ì–´ì”ë‹ˆë‹¤. =====
    async function submitToSheet(e){
      e && e.preventDefault();
      alert('ìƒ˜í”Œ ì œì¶œ í•¨ìˆ˜ì…ë‹ˆë‹¤. (ë§ˆê° ì‹œ ë®ì–´ì“°ê¸°ë¨)');
      return false;
    }

    (function enforceClosed(){
      if (!SURVEY_CLOSED) return;

      // 1) ë§ˆê° ëª¨ë‹¬ í‘œì‹œ
      const ov = document.getElementById('closedOverlay');
      const md = document.getElementById('closedModal');
      [ov, md].forEach(el => el && el.classList.remove('hidden'));
      document.querySelector('main.wrap')?.setAttribute('aria-hidden','true');

      // 2) ëª¨ë“  ì¸í„°ë™ì…˜ ë¹„í™œì„±í™”
      function disableAllControls(){
        const controls = document.querySelectorAll('button, input, select, textarea, a[href]');
        controls.forEach(el => {
          if (el.tagName === 'A') {
            el.addEventListener('click', e => e.preventDefault(), {capture:true});
            el.setAttribute('aria-disabled','true');
          } else {
            el.setAttribute('disabled','true');
          }
        });
        // ê°€ì‹œ ë²„íŠ¼ ìˆ¨ê¹€(ì„ íƒ)
        document.getElementById('nextBtn')?.classList.add('hidden');
        document.getElementById('backBtn')?.classList.add('hidden');
        document.getElementById('submitBtn')?.classList.add('hidden');
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', disableAllControls);
      } else {
        disableAllControls();
      }

      // 3) ì œì¶œ í•¨ìˆ˜ ê°•ì œ ì°¨ë‹¨ (ê¸°ì¡´ ê¸€ë¡œë²Œ í•¨ìˆ˜ ë®ì–´ì“°ê¸°)
      window.submitToSheet = async function(evt){
        evt && evt.preventDefault();
        alert('ì„¤ë¬¸ ê¸°í•œì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
        return false;
      };

      // 4) í‚¤ë³´ë“œ/ë§ˆìš°ìŠ¤ í¬ì»¤ìŠ¤ê°€ ëª¨ë‹¬ ë°–ìœ¼ë¡œ ë‚˜ê°€ì§€ ì•Šë„ë¡ ê°„ë‹¨ ì°¨ë‹¨
      window.addEventListener('keydown', e => {
        if (e.key === 'Tab' || e.key === 'Enter') e.preventDefault();
      }, {capture:true});
      window.addEventListener('click', e => {
        if (md && !md.contains(e.target)) e.preventDefault();
      }, {capture:true});
    })();
  </script>
</body>
</html>
